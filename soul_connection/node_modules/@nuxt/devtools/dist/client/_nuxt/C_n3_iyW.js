import{d as q,a0 as te,r as E,a1 as J,a2 as ne,m as u,I as X,i as d,f as t,k as e,v as D,F as M,n as Z,h as V,j as x,p as I,G as Q,a3 as pe,a4 as me,V as fe,L as W,M as H,a5 as O,_ as oe,o as s,a6 as se,X as ae,a as S,a7 as ve,a8 as he,a9 as ie,t as F,aa as _e,l as R,b as le,ab as ge,e as xe,ac as be,ad as we,ae as ye,af as $e,Z as ke,ag as Ce,ah as Ve,ai as Pe,aj as Ae,ak as De}from"./C_tLznPO.js";import{_ as Fe}from"./BKeomq25.js";import{_ as Ne}from"./DJg41Obz.js";import{_ as Ie}from"./BHh_UM9T.js";import{_ as Se}from"./DqpvVAaa.js";import{_ as Te}from"./BI3hykgO.js";import{_ as Ue}from"./BopA0WYG.js";import{_ as je}from"./DrswlxM3.js";import{D as Ee}from"./BcJws1i5.js";import"./B1veJI6T.js";import"./CIvuwNIv.js";import"./CO7Eo6nF.js";const Le={key:0,"h-full":"","w-full":"",flex:"","items-center":"","justify-center":""},Be={for:"drop-zone-input","text-3xl":"",hover:"text-green cursor-pointer","transition-all":""},Me={key:1,relative:"","h-full":"","w-full":"",grid:"~ rows-[max-content_1fr_max-content]"},ze=e("div",{px6:"",py6:""},[e("h1",{"text-2xl":""}," Upload "),e("p",{"text-sm":"",op50:""}," Drag and drop files to upload ")],-1),Oe={grid:"~ cols-minmax-8rem gap-8","overflow-auto":"",p6:""},Re={flex:"","items-center":"","justify-center":"","of-hidden":"",rounded:"","rounded-t-lg":"","bg-active":"","object-cover":"",class:"aspect-1/1",border:"~ base"},Ke=["src"],Xe={flex:"~ gap1","items-center":""},Ge={flex:"~ gap-2","items-center":"","justify-center":"",p8:""},Ze=q({__name:"AssetDropZone",props:{modelValue:{type:Boolean,required:!0},folder:{type:String,required:!0}},setup(B){const l=B,m=te(l,"modelValue"),k=E(),o=E([]);function f(a){k.value=a.target,m.value=!0}function b(a){a.target===k.value&&(m.value=!1)}function T(a){a.preventDefault()}function P(a){a.preventDefault(),v(a.dataTransfer.files)}function v(a){const _=Array.from(a||[]);if(_.length){const g=[],w=o.value.map(r=>r.name);for(const r of _)if(w.includes(r.name)){let A=1;const[y,U]=r.name.split(".");for(;w.includes(`${y} (${A}).${U}`);)A++;const K=`${y}-${A}.${U}`,i=new Blob([r],{type:r.type}),n=new File([i],K,{lastModified:Date.now()});g.push(n),w.push(K)}else r.type===""&&O({message:"Folders are not supported yet",icon:"carbon:face-dissatisfied",classes:"text-orange"}),g.push(r);o.value=[...o.value,...g]}}async function L(){if(pe.value||me.value)return;fe("assets:upload");const a=[];for(const _ of o.value){const g=new FileReader;g.readAsDataURL(_);const r=(await new Promise(A=>{g.onload=()=>A(g.result)})).split(";base64,").pop();a.push({path:_.name,encoding:"base64",content:r})}await W.writeStaticAssets(await H(),[...a],l.folder).then(()=>{p(),O({message:"Files uploaded successfully!",icon:"i-carbon:checkmark"})}).catch(_=>{p(),O({message:`Error uploading files: ${_?.message??"unknown"}`,icon:"i-carbon-warning",classes:"text-red"})}),m.value=!1}function G(a){o.value?.splice(a,1)}function z(a){return URL.createObjectURL(a)}function h(a,_){const[g,w]=a.name.split("."),r=_.replace(/\.\w+$/,""),A=`${r}.${w}`;return r.length===0?(alert("File name must be at least 1 characters long"),g):(Object.defineProperty(a,"name",{value:A,writable:!1}),o.value.splice(o.value.indexOf(a),1,a),a)}function c(){o.value=[]}function p(){m.value=!1,c()}return J("dragenter",f),J("dragleave",b),J("dragover",T),J("drop",P),(a,_)=>{const g=oe,w=se,r=ae,A=ne("tooltip");return s(),u("div",{fixed:"","bottom-0":"","left-13":"","right-0":"","top-0":"","z-10":"","backdrop-blur-20":"","transition-all":"",class:Q(t(m)?"opacity-100 visible":"opacity-0 invisible")},[X(d(g,{icon:"carbon-close",title:"Close",absolute:"","right-5":"","top-5":"","z-20":"","text-xl":"",border:!1,onClick:p},null,512),[[A,"Close",void 0,{"bottom-end":!0}]]),t(o)?.length?(s(),u("div",Me,[ze,e("div",Oe,[(s(!0),u(M,null,Z(t(o),(y,U)=>(s(),u("div",{key:y.name,flex:"~ col gap-2",relative:"","h-50":"","w-40":"","items-center":""},[e("div",Re,[e("img",{"h-full":"","w-full":"","rounded-t-lg":"","object-cover":"",src:z(y)},null,8,Ke)]),e("div",Xe,[d(r,{n:"xs","h-full":"","flex-auto":"","model-value":y.name,"onUpdate:modelValue":K=>h(y,K.target.value)},null,8,["model-value","onUpdate:modelValue"]),d(g,{n:"red",icon:"carbon-trash-can","h-full":"","flex-none":"",title:"Remove file",onClick:K=>G(U)},null,8,["onClick"])])]))),128))]),e("div",Ge,[t(o).length?(s(),V(g,{key:0,n:"red",onClick:c},{default:x(()=>[d(w,{icon:"carbon-clean"}),D(" Clear ")]),_:1})):I("",!0),d(g,{disabled:!t(o).length,n:"primary solid",onClick:L},{default:x(()=>[d(w,{icon:"carbon-cloud-upload"}),D(" Upload ")]),_:1},8,["disabled"])])])):(s(),u("div",Le,[e("label",Be,[d(w,{icon:"carbon-cloud-upload","mr-2":""}),D(" Drop files here or click to select ")]),e("input",{id:"drop-zone-input",type:"file",multiple:"",hidden:"",onChange:_[0]||(_[0]=y=>v(y.target.files))},null,32)]))],2)}}}),qe=q({__name:"AssetFontPreview",props:{asset:{}},setup(B){const l=B,m=S(()=>`devtools-assets-${ve(l.asset)}`);return he(S(()=>`
  @font-face {
    font-family: '${m.value}';
    src: url('${l.asset.publicPath}');
  }
`)),(k,o)=>(s(),u("div",{"of-hidden":"",style:ie({fontFamily:`'${t(m)}'`})}," Aa Bb Cc Dd Ee Ff Gg Hh Ii Jj Kk Ll Mm Nn Oo Pp Qq Rr Ss Tt Uu Vv Ww Xx Yy Zz ",4))}}),We={flex:"","items-center":"","justify-center":"","of-hidden":"","bg-active":"","object-cover":"",p1:""},He=["src"],Je={key:2,"i-carbon-document":"","text-3xl":"",op20:""},Qe={key:3,"w-full":"","self-start":"",p4:""},Ye=["textContent"],et={key:4},tt=["src","autoplay","controls"],nt={key:5},ot={key:0,"i-carbon-volume-up":"","text-3xl":"",op20:""},st=["src"],lt={key:6,"i-carbon-help":"","text-3xl":"",op20:""},re=q({__name:"AssetPreview",props:{asset:{},textContent:{},detail:{type:Boolean}},setup(B){return(l,m)=>{const k=qe;return s(),u("div",We,[l.asset.type==="image"?(s(),u("img",{key:0,src:l.asset.publicPath},null,8,He)):l.asset.type==="font"?(s(),V(k,{key:l.asset.publicPath,asset:l.asset,"self-stretch":"",p2:"","text-2xl":""},null,8,["asset"])):l.asset.type==="text"&&!l.textContent?(s(),u("div",Je)):l.asset.type==="text"&&l.textContent?(s(),u("div",Qe,[e("pre",{"max-h-10rem":"","of-hidden":"","text-xs":"","font-mono":"",textContent:F(l.textContent)},null,8,Ye)])):l.asset.type==="video"?(s(),u("div",et,[e("video",{src:l.asset.publicPath,autoplay:l.detail,controls:l.detail},null,8,tt)])):l.asset.type==="audio"?(s(),u("div",nt,[l.detail?(s(),u("audio",{key:1,src:l.asset.publicPath,controls:""},null,8,st)):(s(),u("div",ot))])):(s(),u("div",lt))])}}}),at={relative:"",flex:"~ col gap-1",hover:"bg-active","items-center":"","of-hidden":"",rounded:"",p2:""},it={"w-full":"","of-hidden":"",truncate:"","ws-nowrap":"","text-center":"","text-xs":""},rt=q({__name:"AssetGridItem",props:{asset:{},folder:{}},setup(B){const l=B,m=S(()=>l.folder&&l.asset.path.startsWith(l.folder)?l.asset.path.slice(l.folder.length):l.asset.path);return(k,o)=>{const f=se,b=re;return s(),u("button",at,[k.asset.layer?(s(),V(f,{key:0,icon:"i-carbon-layers",absolute:"","right-4":"","top-4":"","bg-primary":""})):I("",!0),d(b,{"h-30":"","w-30":"",rounded:"",border:"~ base",asset:k.asset},null,8,["asset"]),e("div",it,F(t(m)),1)])}}}),ue=q({__name:"AssetListItem",props:{item:{},index:{default:0},modelValue:{}},setup(B,{emit:l}){const m=B,o=te(m,"modelValue",l,{passive:!0}),f=S(()=>m.item?.children?.length),b=E(!0),T=S(()=>f.value?"i-carbon-folder":m.item.type==="image"?"i-carbon-image":m.item.type==="video"?"i-carbon-video":m.item.type==="audio"?"i-carbon-volume-up":m.item.type==="font"?"i-carbon-text-small-caps":m.item.type==="text"?"i-carbon-document":m.item.type==="json"?"i-carbon-json":"i-carbon-document-blank");return(P,v)=>{const L=se,G=ue;return s(),u("div",null,[e("button",{flex:"~ gap-2","w-full":"","items-center":"",hover:"bg-active",px4:"",py1:"",style:ie({paddingLeft:`calc(1rem + ${P.index*1.5}em)`}),class:Q({"bg-active":!t(f)&&t(o)?.filePath===P.item?.filePath}),border:"b base",onClick:v[0]||(v[0]=z=>t(f)?b.value=!t(b):o.value=P.item)},[e("div",{class:Q(t(T))},null,2),e("span",{class:Q({"flex items-center":t(f)}),"flex-auto":"","text-start":"","text-sm":"","font-mono":""},[D(F(P.item.path)+" ",1),P.item.layer?(s(),V(L,{key:0,icon:"i-carbon-layers","bg-primary":""})):I("",!0)],2),t(f)?(s(),V(L,{key:0,icon:"carbon:chevron-right","transform-rotate":t(b)?90:0,transition:""},null,8,["transform-rotate"])):I("",!0)],6),t(b)?_e(P.$slots,"default",{key:0},()=>[(s(!0),u(M,null,Z(P.item?.children,z=>(s(),V(G,{key:z.filepath,modelValue:t(o),"onUpdate:modelValue":v[1]||(v[1]=h=>R(o)?o.value=h:null),item:z,index:P.index+1},null,8,["modelValue","item","index"]))),128))]):I("",!0)])}}}),ut={flex:"~ col gap-4","min-h-full":"","w-full":"","of-hidden":"",p4:""},ct=e("div",{flex:"~ gap2","mb--2":"","items-center":"",op50:""},[e("div",{"x-divider":""}),e("div",{"flex-none":""}," Preview "),e("div",{"x-divider":""})],-1),dt={flex:"~","items-center":"","justify-center":""},pt=e("div",{flex:"~ gap2","mb--2":"","items-center":"",op50:""},[e("div",{"x-divider":""}),e("div",{"flex-none":""}," Details "),e("div",{"x-divider":""})],-1),mt={"max-w-full":"","w-full":"","table-fixed":""},ft=e("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Filepath ",-1),vt={flex:"~ gap-1","w-full":"","items-center":""},ht=e("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Public Path ",-1),_t={flex:"~ gap-1","w-full":"","items-center":"","of-hidden":""},gt={"flex-auto":"","of-hidden":"",truncate:"","ws-pre":"","font-mono":""},xt=e("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Type ",-1),bt={capitalize:""},wt=e("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Image Size ",-1),yt={key:0},$t=e("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Aspect Ratio ",-1),kt=e("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," File size ",-1),Ct=e("td",{"w-30":"","ws-nowrap":"",pr5:"","text-right":"",op50:""}," Last modified ",-1),Vt={op70:""},Pt=e("div",{flex:"~ gap2","mb--2":"","items-center":"",op50:""},[e("div",{"x-divider":""}),e("div",{"flex-none":""}," Actions "),e("div",{"x-divider":""})],-1),At={flex:"~ gap2 wrap"},Dt=e("div",{"flex-auto":""},null,-1),Ft={flex:"~ col gap-4","min-h-full":"","w-full":"","of-hidden":"",p8:""},Nt=e("span",null," Are you sure you want to delete this asset? ",-1),It={flex:"~ gap2 wrap justify-center"},St={flex:"~ col gap-4","min-h-full":"","w-full":"","of-hidden":"",p8:""},Tt={flex:"~ gap2 wrap justify-center"},Ut={flex:"~ col gap-4","min-h-full":"","w-full":"","of-hidden":"",p4:""},jt={flex:"","justify-end":"","gap-4":""},Et=q({__name:"AssetDetails",props:{modelValue:{}},setup(B,{emit:l}){const o=te(B,"modelValue",l,{passive:!0}),f=le(async()=>{if(o.value.type==="image")return W.getImageMeta(await H(),o.value.filePath)}),b=E(!1),T=E(),P=E(0),v=le(async()=>{if(o.value.type!=="text")return;P.value;const i=await W.getTextAssetContent(await H(),o.value.filePath);return T.value=i,i});async function L(){if(v.value!==T.value)try{await W.writeStaticAssets(await H(),[{path:o.value.path,content:T.value,override:!0}],""),b.value=!1,P.value++,O({message:"Updated",icon:"i-carbon-checkmark",classes:"text-green"})}catch(i){console.error(i),O({message:"Something went wrong!",icon:"i-carbon-warning",classes:"text-red"})}}const G=ge(),z=S(()=>(G.value?._installedModules||[]).some(n=>n.meta?.name==="@nuxt/image"||n.meta?.name==="@nuxt/image-edge")),h=S(()=>{const i=[];if(o.value.type==="image"){const n=f.value?.width?`
  width="${f.value.width}"
  height="${f.value.height}" `:" ";return i.push({lang:"vue-html",code:`<img${n}
  src="${o.value.publicPath}"
/>`,name:"Plain Image"}),z.value&&i.push({lang:"vue-html",code:`<NuxtImg${n}
  src="${o.value.publicPath}"
/>`,name:"Nuxt Img",docs:"https://image.nuxt.com/usage/nuxt-img"},{lang:"vue-html",code:`<NuxtPicture${n}
  src="${o.value.publicPath}"
/>`,name:"Nuxt Picture",docs:"https://image.nuxt.com/usage/nuxt-picture"}),i}return i.push({lang:"html",code:`<a download href="${o.value.publicPath}">
  Download ${o.value.path.split("/").slice(-1)[0]}
</a>`,name:"Download link"}),i}),c=xe(),p=be(),a=we(()=>o.value.mtime),_=S(()=>{const i=o.value.size;return i<1024?`${i} B`:i<1024*1024?`${(i/1024).toFixed(2)} KB`:`${(i/1024/1024).toFixed(2)} MB`}),g=S(()=>{if(!f.value?.width||!f.value?.height)return"";const i=($,j)=>j?i(j,$%j):$,n=i(f.value.width,f.value.height);return n>3?`${f.value.width/n}:${f.value.height/n}`:""}),w=S(()=>["image","text","video","audio","font"].includes(o.value.type)),r=E(!1);async function A(){try{await W.deleteStaticAsset(await H(),o.value.filePath),o.value=void 0,r.value=!1,O({message:"Asset deleted",icon:"i-carbon-checkmark",classes:"text-green"})}catch(i){console.error(i),O({message:"Something went wrong!",icon:"i-carbon-warning",classes:"text-red"})}}const y=E(!1),U=E("");async function K(){const i=o.value.filePath.split("/"),n=i.slice(-1)[0].split(".").slice(0,-1).join(".");if(!U.value||U.value===n)return O({message:"Please enter a new name",icon:"i-carbon-warning",classes:"text-orange"});try{const $=i.slice(-1)[0].split(".").slice(-1)[0],j=`${i.slice(0,-1).join("/")}/${U.value}.${$}`;await W.renameStaticAsset(await H(),o.value.filePath,j),o.value=void 0,y.value=!1,O({message:"Asset renamed",icon:"i-carbon-checkmark",classes:"text-green"})}catch($){console.error($),O({message:"Something went wrong!",icon:"i-carbon-warning",classes:"text-red"})}}return(i,n)=>{const $=re,j=Te,N=oe,ce=Ue,Y=ke,de=ae,ee=ne("tooltip");return s(),u(M,null,[e("div",ut,[t(w)?(s(),u(M,{key:0},[ct,e("div",dt,[d($,{detail:"","max-h-80":"","min-h-20":"","min-w-20":"","w-auto":"",rounded:"",border:"~ base",asset:t(o),"text-content":t(v)},null,8,["asset","text-content"])])],64)):I("",!0),pt,e("table",mt,[e("tbody",null,[e("tr",null,[ft,e("td",null,[e("div",vt,[d(j,{filepath:t(o).filePath,"text-left":""},null,8,["filepath"]),X(d(N,{"flex-none":"",title:"Open in Editor",icon:"carbon-launch",border:!1,onClick:n[0]||(n[0]=C=>t(p)(t(o).filePath))},null,512),[[ee,"Open in Editor"]])])])]),e("tr",null,[ht,e("td",null,[e("div",_t,[e("div",gt,F(t(o).publicPath),1),X(d(N,{"flex-none":"",title:"Copy public path",icon:"carbon-copy",border:!1,onClick:n[1]||(n[1]=C=>t(c)(t(o).publicPath,"assets-public-path"))},null,512),[[ee,"Copy public path"]]),X(d(N,{"flex-none":"",to:t(o).publicPath,icon:"carbon-launch",target:"_blank",border:!1,title:"Open in browser"},null,8,["to"]),[[ee,"Open in browser"]])])])]),e("tr",null,[xt,e("td",bt,F(t(o).type),1)]),t(f)?.width?(s(),u(M,{key:0},[e("tr",null,[wt,e("td",null,F(t(f).width)+" x "+F(t(f).height),1)]),t(g)?(s(),u("tr",yt,[$t,e("td",null,F(t(g)),1)])):I("",!0)],64)):I("",!0),e("tr",null,[kt,e("td",null,F(t(_)),1)]),e("tr",null,[Ct,e("td",null,[D(F(new Date(t(o).mtime).toLocaleString())+" ",1),e("span",Vt,"("+F(t(a))+")",1)])])])]),Pt,e("div",At,[d(N,{to:t(o).publicPath,download:"",target:"_blank",icon:"carbon-download",n:"green"},{default:x(()=>[D(" Download ")]),_:1},8,["to"]),t(o).type==="text"?(s(),V(N,{key:0,icon:"carbon-edit",n:"cyan",onClick:n[2]||(n[2]=C=>b.value=!t(b))},{default:x(()=>[D(" Edit ")]),_:1})):I("",!0),d(N,{icon:"carbon-text-annotation-toggle",n:"blue",onClick:n[3]||(n[3]=C=>y.value=!t(y))},{default:x(()=>[D(" Rename ")]),_:1}),d(N,{icon:"carbon-delete",n:"red",onClick:n[4]||(n[4]=C=>r.value=!t(r))},{default:x(()=>[D(" Delete ")]),_:1})]),Dt,t(h).length?(s(),V(ce,{key:1,border:"t base","mx--4":"","mb--4":"","code-snippets":t(h)},null,8,["code-snippets"])):I("",!0)]),d(Y,{modelValue:t(r),"onUpdate:modelValue":n[6]||(n[6]=C=>R(r)?r.value=C:null)},{default:x(()=>[e("div",Ft,[Nt,e("div",It,[d(N,{icon:"carbon-close",onClick:n[5]||(n[5]=C=>r.value=!1)},{default:x(()=>[D(" Cancel ")]),_:1}),d(N,{icon:"carbon-delete",n:"red",onClick:A},{default:x(()=>[D(" Delete ")]),_:1})])])]),_:1},8,["modelValue"]),d(Y,{modelValue:t(y),"onUpdate:modelValue":n[9]||(n[9]=C=>R(y)?y.value=C:null)},{default:x(()=>[e("div",St,[d(de,{modelValue:t(U),"onUpdate:modelValue":n[7]||(n[7]=C=>R(U)?U.value=C:null),placeholder:"New name",n:"blue"},null,8,["modelValue"]),e("div",Tt,[d(N,{icon:"carbon-close",onClick:n[8]||(n[8]=C=>y.value=!1)},{default:x(()=>[D(" Cancel ")]),_:1}),d(N,{icon:"carbon-text-annotation-toggle",n:"blue",onClick:K},{default:x(()=>[D(" Rename ")]),_:1})])])]),_:1},8,["modelValue"]),t(o).type==="text"?(s(),V(Y,{key:0,modelValue:t(b),"onUpdate:modelValue":n[12]||(n[12]=C=>R(b)?b.value=C:null)},{default:x(()=>[e("div",Ut,[X(e("textarea",{"onUpdate:modelValue":n[10]||(n[10]=C=>R(T)?T.value=C:null),placeholder:"Item value...",class:"h-lg w-xl of-auto rounded-lg p-4 text-sm font-mono outline-none",onKeydown:ye(L,["enter"])},null,544),[[$e,t(T)]]),e("div",jt,[d(N,{icon:"carbon-close",onClick:n[11]||(n[11]=C=>b.value=!1)},{default:x(()=>[D(" Cancel ")]),_:1}),d(N,{icon:"carbon:save",n:"primary",onClick:L},{default:x(()=>[D(" save ")]),_:1})])])]),_:1},8,["modelValue"])):I("",!0)],64)}}}),Lt={"h-full":"","of-auto":""},Bt={"flex-none":"",flex:"~ gap2 items-center","text-lg":""},Mt={flex:"~ items-center justify-center",absolute:"","bottom--1":"","right--1":"","h-4":"","w-4":"","rounded-full":"","bg-primary:30":"","text-8px":""},zt={flex:"~ col","w-30":"","of-auto":""},Ot={"text-xs":"",op75:""},Rt={op50:""},Kt={key:0},Xt={"mt--4":"",px2:"",grid:"~ cols-minmax-8rem"},Gt={key:1,p2:"",grid:"~ cols-minmax-8rem"},Zt={key:1},an=q({__name:"assets",setup(B){const l=Ce(),m=E(!1),k=E(""),o=S(()=>new Ve(l.value||[],{keys:["path"]})),f=Pe(()=>{const h=[];for(const c of l.value||[]){const p=c.path.split(".").pop();p&&!h.find(a=>a.name===p)&&h.push({name:p,value:!0})}return h}),b=S(()=>(k.value?o.value.search(k.value).map(c=>c.item):l.value||[]).filter(c=>{const p=c.path.split(".").pop();return!p||f.some(a=>a.name===p&&a.value)})),T=S(()=>{const h={};for(const c of b.value){const p=`${c.path.split("/").slice(0,-1).join("/")}/`;h[p]||(h[p]=[]),h[p].push(c)}return Object.entries(h).sort(([c],[p])=>c.localeCompare(p))}),P=S(()=>{const h={path:"public",children:[]},c=(p,a,_)=>{const[g,...w]=a;let r=p.children.find(A=>A.path===g);r||(r={..._,path:g,children:[]},p.children.push(r)),w.length>1?c(r,w,_):w.length===1&&r.children.push({..._,path:w[0]})};return b.value.forEach(p=>{const a=p.path.split("/").filter(_=>_!=="");c(h,a,p)}),h.children}),v=E(),{view:L}=De("assets");function G(){L.value=L.value==="list"?"grid":"list"}Ae("Escape",()=>{v.value=void 0});const z=E();return(h,c)=>{const p=oe,a=Fe,_=Ne,g=Ie,w=Ze,r=rt,A=Se,y=ue,U=Et,K=je,i=ne("tooltip");return s(),u("div",Lt,[d(g,{ref_key:"navbar",ref:z,search:t(k),"onUpdate:search":c[1]||(c[1]=n=>R(k)?k.value=n:null),pb2:""},{actions:x(()=>[e("div",Bt,[X(d(p,{icon:"carbon:cloud-upload",title:"File Upload",border:!1,onClick:c[0]||(c[0]=n=>m.value=!t(m))},null,512),[[i,"File Upload",void 0,{"bottom-end":!0}]]),t(f).length?(s(),V(_,{key:0,direction:"end",n:"sm primary"},{trigger:x(({click:n})=>[X(d(p,{icon:"carbon-filter",border:!1,title:"Filter",p3:"","text-lg":"",onClick:$=>n()},null,8,["onClick"]),[[i,"Filter",void 0,{"bottom-end":!0}]]),e("span",Mt,F(t(f).length),1)]),default:x(()=>[e("div",zt,[(s(!0),u(M,null,Z(t(f),n=>(s(),V(a,{key:n.name,modelValue:n.value,"onUpdate:modelValue":$=>n.value=$,flex:"~ gap-2",rounded:"",px2:"",py2:""},{default:x(()=>[e("span",Ot,F(n.name),1)]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))])]),_:1})):I("",!0),X(d(p,{"text-lg":"",border:!1,icon:t(L)==="grid"?"i-carbon-list":"i-carbon-grid",title:"Toggle view",onClick:G},null,8,["icon"]),[[i,"Toggle View",void 0,{"bottom-end":!0}]])])]),default:x(()=>[e("div",Rt,[t(k)?(s(),u("span",Kt,F(t(b).length)+" matched · ",1)):I("",!0),e("span",null,F(t(l)?.length)+" assets in total",1)])]),_:1},8,["search"]),d(w,{modelValue:t(m),"onUpdate:modelValue":c[2]||(c[2]=n=>R(m)?m.value=n:null),folder:"/"},null,8,["modelValue"]),t(L)==="grid"?(s(),u(M,{key:0},[t(T).length>1?(s(!0),u(M,{key:0},Z(t(T),([n,$])=>(s(),V(A,{key:n,text:n,description:`${$.length} items`,open:$.length<=("DETAILS_MAX_ITEMS"in h?h.DETAILS_MAX_ITEMS:t(Ee)),padding:!1},{default:x(()=>[e("div",Xt,[(s(!0),u(M,null,Z($,j=>(s(),V(r,{key:j.path,asset:j,folder:n,onClick:N=>v.value=j},null,8,["asset","folder","onClick"]))),128))])]),_:2},1032,["text","description","open"]))),128)):(s(),u("div",Gt,[(s(!0),u(M,null,Z(t(b),n=>(s(),V(r,{key:n.path,asset:n,onClick:$=>v.value=n},null,8,["asset","onClick"]))),128))]))],64)):(s(),u("div",Zt,[(s(!0),u(M,null,Z(t(P),(n,$)=>(s(),V(y,{key:$,modelValue:t(v),"onUpdate:modelValue":c[3]||(c[3]=j=>R(v)?v.value=j:null),item:n},null,8,["modelValue","item"]))),128))])),d(K,{"model-value":!!t(v),"auto-close":"","w-120":"",top:t(z),onClose:c[5]||(c[5]=n=>v.value=void 0)},{default:x(()=>[t(v)?(s(),V(U,{key:0,modelValue:t(v),"onUpdate:modelValue":c[4]||(c[4]=n=>R(v)?v.value=n:null)},null,8,["modelValue"])):I("",!0)]),_:1},8,["model-value","top"])])}}});export{an as default};
